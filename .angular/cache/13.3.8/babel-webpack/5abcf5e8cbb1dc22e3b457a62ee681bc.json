{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./lists-config.service\";\nexport let ListsConfigService = /*#__PURE__*/(() => {\n  class ListsConfigService {\n    constructor(query) {\n      this.query = query;\n      this.coursess = new BehaviorSubject([]);\n      this.coursess$ = this.coursess.asObservable();\n      this.discount = new BehaviorSubject(1);\n      this.discount$ = this.discount.asObservable();\n      this.init();\n    }\n\n    checkDiscount(discount) {\n      return this.query.checkDiscount(discount).subscribe(data => {\n        // this.store.setCourses(data.coursess);\n        this.discount.next((100 - data.discountPercent || 0) / 100);\n      }, err => {\n        this.discount.next(1);\n      });\n    }\n\n    init() {\n      return this.query.getCourses().subscribe(data => {\n        // this.store.setCourses(data.coursess);\n        this.coursess.next(data.coursess);\n      });\n    }\n\n  }\n\n  ListsConfigService.ɵfac = function ListsConfigService_Factory(t) {\n    return new (t || ListsConfigService)(i0.ɵɵinject(i1.CoursesQueryService));\n  };\n\n  ListsConfigService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ListsConfigService,\n    factory: ListsConfigService.ɵfac,\n    providedIn: 'root'\n  });\n  return ListsConfigService;\n})();","map":null,"metadata":{},"sourceType":"module"}