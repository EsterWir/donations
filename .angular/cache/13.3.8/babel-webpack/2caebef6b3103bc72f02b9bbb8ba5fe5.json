{"ast":null,"code":"import { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"~shared/services/environment.service\";\nimport * as i2 from \"~shared/services/payment/payment.service\";\nimport * as i3 from \"~shared/services/payment/payment-store.service\";\nimport * as i4 from \"~shared/services/lists-config/list-config-config.service\";\n\nfunction ConfirmationPageComponent_ng_container_3_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 0);\n    i0.ɵɵelement(1, \"app-error\", 12);\n    i0.ɵɵelement(2, \"pay-success\", 13);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"payment\", i0.ɵɵpipeBind1(3, 1, ctx_r1.payment$));\n  }\n}\n\nfunction ConfirmationPageComponent_ng_container_3_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"span\", 8);\n    i0.ɵɵelementStart(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const course_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", course_r3.description, \" \");\n  }\n}\n\nfunction ConfirmationPageComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ConfirmationPageComponent_ng_container_3_mat_card_1_Template, 4, 3, \"mat-card\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementStart(3, \"mat-card\", 0);\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵelementStart(5, \"span\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 10);\n    i0.ɵɵelementStart(11, \"span\", 8);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ConfirmationPageComponent_ng_container_3_div_14_Template, 4, 1, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 7, ctx_r0.payment$));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(7, 9, \"PAYMENT_FOR_FIELD_LABEL\"), \":\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" \", ctx_r0.userData == null ? null : ctx_r0.userData.firstName, \" \", ctx_r0.userData == null ? null : ctx_r0.userData.lastName, \" \", ctx_r0.userData == null ? null : ctx_r0.userData.userId, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(13, 11, \"PAYMENT_FOR_COURSES_FIELD_LABEL\"), \":\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.coursess);\n  }\n}\n\nexport class ConfirmationPageComponent {\n  constructor(env, paymentService, paymentStore, listStore) {\n    var _a;\n\n    this.env = env;\n    this.paymentService = paymentService;\n    this.paymentStore = paymentStore;\n    this.listStore = listStore;\n    this.subscription = new Subscription();\n    this.coursess = [];\n    this.userData = paymentStore.getFormData();\n    const coursessIds = (_a = this.userData) === null || _a === void 0 ? void 0 : _a.coursess.map(i => i.id);\n    console.log(coursessIds);\n    listStore.coursess$.subscribe(arr => {\n      this.coursess = arr.filter(i => coursessIds === null || coursessIds === void 0 ? void 0 : coursessIds.includes(i.id.toString()));\n      console.log(this.coursess);\n    }); // \n\n    this.payment$ = this.paymentService.payment$;\n  }\n\n  ngOnInit() {\n    if (!this.paymentStore.isPaymentCompleted()) {\n      this.subscription.add(this.paymentService.completePayment().subscribe());\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  isPaymentIncluded() {\n    return this.paymentService.isValidPayment();\n  }\n\n  close() {\n    window.location.href = this.env.getOriginUrl();\n  }\n\n  print() {\n    window.print();\n  }\n\n}\n\nConfirmationPageComponent.ɵfac = function ConfirmationPageComponent_Factory(t) {\n  return new (t || ConfirmationPageComponent)(i0.ɵɵdirectiveInject(i1.EnvironmentService), i0.ɵɵdirectiveInject(i2.PaymentService), i0.ɵɵdirectiveInject(i3.PaymentStoreService), i0.ɵɵdirectiveInject(i4.ListsConfigService));\n};\n\nConfirmationPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConfirmationPageComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 15,\n  vars: 11,\n  consts: [[\"uohCard\", \"small\"], [3, \"message\"], [4, \"ngIf\"], [\"uohCard\", \"small\", 2, \"display\", \"flex\", \"justify-content\", \"flex-end\"], [\"mat-raised-button\", \"\", 1, \"print-btn\", 3, \"click\"], [\"mat-raised-button\", \"\", 3, \"color\", \"click\"], [\"uohCard\", \"small\", 4, \"ngIf\"], [\"role\", \"row\", 1, \"uoh-pay-success-row\", \"ng-star-inserted\"], [1, \"uoh-pay-success-label\"], [1, \"uoh-pay-success-value\"], [\"role\", \"row\", 1, \"uoh-pay-success-row\"], [\"role\", \"row\", \"class\", \"uoh-pay-success-row\", 4, \"ngFor\", \"ngForOf\"], [\"select\", \"SUBMIT\"], [3, \"payment\"]],\n  template: function ConfirmationPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\", 0);\n      i0.ɵɵelement(1, \"app-success\", 1);\n      i0.ɵɵpipe(2, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, ConfirmationPageComponent_ng_container_3_Template, 15, 13, \"ng-container\", 2);\n      i0.ɵɵelementStart(4, \"mat-card\", 3);\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ConfirmationPageComponent_Template_button_click_5_listener() {\n        return ctx.print();\n      });\n      i0.ɵɵelementStart(6, \"mat-icon\");\n      i0.ɵɵtext(7, \"print\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"span\");\n      i0.ɵɵtext(9);\n      i0.ɵɵpipe(10, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function ConfirmationPageComponent_Template_button_click_11_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵelementStart(12, \"span\");\n      i0.ɵɵtext(13);\n      i0.ɵɵpipe(14, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(2, 5, \"PAID_SUCCESSFULLY\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isPaymentIncluded());\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 7, \"PRINT\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"color\", \"primary\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 9, \"EXIT\"));\n    }\n  },\n  styles: [\".print-btn[_ngcontent-%COMP%] {\\n  margin: 0 0.5rem;\\n}\\n\\n.uoh-pay-success-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  padding: 16px 0;\\n  align-items: center;\\n}\\n\\n.uoh-pay-success-label[_ngcontent-%COMP%] {\\n  margin: 16px;\\n  flex-basis: 16em;\\n  font-weight: bold;\\n  margin-right: 16px;\\n  text-transform: uppercase;\\n  opacity: 0.6;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpcm1hdGlvbi1wYWdlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7QUFDSjs7QUFDQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFBQTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFHSiIsImZpbGUiOiJjb25maXJtYXRpb24tcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcmludC1idG4ge1xyXG4gICAgbWFyZ2luOiAwIDAuNXJlbTtcclxufVxyXG4udW9oLXBheS1zdWNjZXNzLXJvd3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBwYWRkaW5nOiAxNnB4IDA7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi51b2gtcGF5LXN1Y2Nlc3MtbGFiZWx7XHJcbiAgICBtYXJnaW46MTZweDtcclxuICAgIGZsZXgtYmFzaXM6IDE2ZW07XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbi1yaWdodDogMTZweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBvcGFjaXR5OiAwLjY7XHJcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/sapweb2/Documents/GitHub/Donations/src/app/pages/confirmation-page/confirmation-page.component.ts"],"names":["Subscription","i0","i1","i2","i3","i4","ConfirmationPageComponent_ng_container_3_mat_card_1_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵpipe","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","payment$","ConfirmationPageComponent_ng_container_3_div_14_Template","ɵɵtext","course_r3","$implicit","ɵɵtextInterpolate1","description","ConfirmationPageComponent_ng_container_3_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ctx_r0","ɵɵtextInterpolate3","userData","firstName","lastName","userId","coursess","ConfirmationPageComponent","constructor","env","paymentService","paymentStore","listStore","_a","subscription","getFormData","coursessIds","map","i","id","console","log","coursess$","subscribe","arr","filter","includes","toString","ngOnInit","isPaymentCompleted","add","completePayment","ngOnDestroy","unsubscribe","isPaymentIncluded","isValidPayment","close","window","location","href","getOriginUrl","print","ɵfac","ConfirmationPageComponent_Factory","t","ɵɵdirectiveInject","EnvironmentService","PaymentService","PaymentStoreService","ListsConfigService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ConfirmationPageComponent_Template","ɵɵlistener","ConfirmationPageComponent_Template_button_click_5_listener","ConfirmationPageComponent_Template_button_click_11_listener","ɵɵtextInterpolate","styles"],"mappings":"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","sourcesContent":["import { Subscription } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"~shared/services/environment.service\";\r\nimport * as i2 from \"~shared/services/payment/payment.service\";\r\nimport * as i3 from \"~shared/services/payment/payment-store.service\";\r\nimport * as i4 from \"~shared/services/lists-config/list-config-config.service\";\r\nfunction ConfirmationPageComponent_ng_container_3_mat_card_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-card\", 0);\r\n    i0.ɵɵelement(1, \"app-error\", 12);\r\n    i0.ɵɵelement(2, \"pay-success\", 13);\r\n    i0.ɵɵpipe(3, \"async\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"payment\", i0.ɵɵpipeBind1(3, 1, ctx_r1.payment$));\r\n} }\r\nfunction ConfirmationPageComponent_ng_container_3_div_14_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 10);\r\n    i0.ɵɵelement(1, \"span\", 8);\r\n    i0.ɵɵelementStart(2, \"span\", 9);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const course_r3 = ctx.$implicit;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", course_r3.description, \" \");\r\n} }\r\nfunction ConfirmationPageComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, ConfirmationPageComponent_ng_container_3_mat_card_1_Template, 4, 3, \"mat-card\", 6);\r\n    i0.ɵɵpipe(2, \"async\");\r\n    i0.ɵɵelementStart(3, \"mat-card\", 0);\r\n    i0.ɵɵelementStart(4, \"div\", 7);\r\n    i0.ɵɵelementStart(5, \"span\", 8);\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵpipe(7, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"span\", 9);\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"div\", 10);\r\n    i0.ɵɵelementStart(11, \"span\", 8);\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵpipe(13, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(14, ConfirmationPageComponent_ng_container_3_div_14_Template, 4, 1, \"div\", 11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 7, ctx_r0.payment$));\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(7, 9, \"PAYMENT_FOR_FIELD_LABEL\"), \":\");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate3(\" \", ctx_r0.userData == null ? null : ctx_r0.userData.firstName, \" \", ctx_r0.userData == null ? null : ctx_r0.userData.lastName, \" \", ctx_r0.userData == null ? null : ctx_r0.userData.userId, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(13, 11, \"PAYMENT_FOR_COURSES_FIELD_LABEL\"), \":\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.coursess);\r\n} }\r\nexport class ConfirmationPageComponent {\r\n    constructor(env, paymentService, paymentStore, listStore) {\r\n        var _a;\r\n        this.env = env;\r\n        this.paymentService = paymentService;\r\n        this.paymentStore = paymentStore;\r\n        this.listStore = listStore;\r\n        this.subscription = new Subscription();\r\n        this.coursess = [];\r\n        this.userData = paymentStore.getFormData();\r\n        const coursessIds = (_a = this.userData) === null || _a === void 0 ? void 0 : _a.coursess.map(i => i.id);\r\n        console.log(coursessIds);\r\n        listStore.coursess$.subscribe(arr => {\r\n            this.coursess = arr.filter(i => coursessIds === null || coursessIds === void 0 ? void 0 : coursessIds.includes(i.id.toString()));\r\n            console.log(this.coursess);\r\n        });\r\n        // \r\n        this.payment$ = this.paymentService.payment$;\r\n    }\r\n    ngOnInit() {\r\n        if (!this.paymentStore.isPaymentCompleted()) {\r\n            this.subscription.add(this.paymentService.completePayment().subscribe());\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n    isPaymentIncluded() {\r\n        return this.paymentService.isValidPayment();\r\n    }\r\n    close() {\r\n        window.location.href = this.env.getOriginUrl();\r\n    }\r\n    print() {\r\n        window.print();\r\n    }\r\n}\r\nConfirmationPageComponent.ɵfac = function ConfirmationPageComponent_Factory(t) { return new (t || ConfirmationPageComponent)(i0.ɵɵdirectiveInject(i1.EnvironmentService), i0.ɵɵdirectiveInject(i2.PaymentService), i0.ɵɵdirectiveInject(i3.PaymentStoreService), i0.ɵɵdirectiveInject(i4.ListsConfigService)); };\r\nConfirmationPageComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ConfirmationPageComponent, selectors: [[\"ng-component\"]], decls: 15, vars: 11, consts: [[\"uohCard\", \"small\"], [3, \"message\"], [4, \"ngIf\"], [\"uohCard\", \"small\", 2, \"display\", \"flex\", \"justify-content\", \"flex-end\"], [\"mat-raised-button\", \"\", 1, \"print-btn\", 3, \"click\"], [\"mat-raised-button\", \"\", 3, \"color\", \"click\"], [\"uohCard\", \"small\", 4, \"ngIf\"], [\"role\", \"row\", 1, \"uoh-pay-success-row\", \"ng-star-inserted\"], [1, \"uoh-pay-success-label\"], [1, \"uoh-pay-success-value\"], [\"role\", \"row\", 1, \"uoh-pay-success-row\"], [\"role\", \"row\", \"class\", \"uoh-pay-success-row\", 4, \"ngFor\", \"ngForOf\"], [\"select\", \"SUBMIT\"], [3, \"payment\"]], template: function ConfirmationPageComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\r\n        i0.ɵɵelement(1, \"app-success\", 1);\r\n        i0.ɵɵpipe(2, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(3, ConfirmationPageComponent_ng_container_3_Template, 15, 13, \"ng-container\", 2);\r\n        i0.ɵɵelementStart(4, \"mat-card\", 3);\r\n        i0.ɵɵelementStart(5, \"button\", 4);\r\n        i0.ɵɵlistener(\"click\", function ConfirmationPageComponent_Template_button_click_5_listener() { return ctx.print(); });\r\n        i0.ɵɵelementStart(6, \"mat-icon\");\r\n        i0.ɵɵtext(7, \"print\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"span\");\r\n        i0.ɵɵtext(9);\r\n        i0.ɵɵpipe(10, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function ConfirmationPageComponent_Template_button_click_11_listener() { return ctx.close(); });\r\n        i0.ɵɵelementStart(12, \"span\");\r\n        i0.ɵɵtext(13);\r\n        i0.ɵɵpipe(14, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(2, 5, \"PAID_SUCCESSFULLY\"));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isPaymentIncluded());\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 7, \"PRINT\"));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"color\", \"primary\");\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 9, \"EXIT\"));\r\n    } }, styles: [\".print-btn[_ngcontent-%COMP%] {\\n  margin: 0 0.5rem;\\n}\\n\\n.uoh-pay-success-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  padding: 16px 0;\\n  align-items: center;\\n}\\n\\n.uoh-pay-success-label[_ngcontent-%COMP%] {\\n  margin: 16px;\\n  flex-basis: 16em;\\n  font-weight: bold;\\n  margin-right: 16px;\\n  text-transform: uppercase;\\n  opacity: 0.6;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpcm1hdGlvbi1wYWdlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7QUFDSjs7QUFDQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFBQTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFHSiIsImZpbGUiOiJjb25maXJtYXRpb24tcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcmludC1idG4ge1xyXG4gICAgbWFyZ2luOiAwIDAuNXJlbTtcclxufVxyXG4udW9oLXBheS1zdWNjZXNzLXJvd3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBwYWRkaW5nOiAxNnB4IDA7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi51b2gtcGF5LXN1Y2Nlc3MtbGFiZWx7XHJcbiAgICBtYXJnaW46MTZweDtcclxuICAgIGZsZXgtYmFzaXM6IDE2ZW07XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbi1yaWdodDogMTZweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBvcGFjaXR5OiAwLjY7XHJcbn0iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}